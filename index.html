<html>
	<head>
		<style>
		.button {
		  background-color: #4CAF50;
		  border: none;
		  color: white;
		  padding: 7px 14px;
		  text-align: center;
		  text-decoration: none;
		  display: inline-block;
		  font-size: 15px;
		  margin: 4px 2px;
		  cursor: pointer;
		}
		.button2 {
		  background-color: #2528b3;
		  border: none;
		  color: white;
		  padding: 7px 14px;
		  text-align: center;
		  text-decoration: none;
		  display: inline-block;
		  font-size: 15px;
		  margin: 4px 2px;
		  cursor: pointer;
		}
		.button3 {
		  background-color: #091c09;
		  border: none;
		  color: white;
		  padding: 7px 14px;
		  text-align: center;
		  text-decoration: none;
		  display: inline-block;
		  font-size: 15px;
		  margin: 4px 2px;
		  cursor: pointer;
		}
		</style>
	</head>

	<body>
		<h1> 
        	<a href="https://www.highViewTechnologies.com">
            <img src="img/logo.png" alt="High View Logo" width=418 height=156 align=middle>
        	</a>
    	</h1>

    	<!--
		<form>
			<label for = "SpaceID"> SpaceID </label>
			<textarea id = "SpaceID"></textarea>

			<label for = "CurrentStatus"> CurrentStatus </label>
			<textarea id = "CurrentStatus"></textarea>

			<label for = "RequestedStatus"> RequestedStatus </label>
			<textarea id = "RequestedStatus"></textarea>

			<button id = 'submitButton'> Submit </button>

		</form>
		-->


		  <table border  height="400px" width="80%">
		 
		    <tr>
		      <th colspan="2"><font size="6"> Visitor Lot Area 2: Dynamic Parking Reservation </font></th>
		    </tr>

		    <tr>
		      <th colspan="2">
		      	<font size="3">Enter secret Key : <input id = 'secretKey' type="text" name="secretKey" ><br>
		      		</font>
		      	
		      </th>
		    </tr>

            <tr>
			<td> 
				Space: <b>1</b>
				<br>
			    <b><span id = 'status1'></span></b>
			    <br>
				<button id = 'upButton1' class="button"> Reserve </button> 
				<button id = 'downButton1' class="button2"> Unreserve </button> 
			</td>

			<td>
				Space: <b>6</b>
				<br>
			    <b><span id = 'status6'></span></b>
			    <br>
				<button id = 'upButton6' class="button"> Reserve </button> 
				<button id = 'downButton6' class="button2"> Unreserve </button> 
			</td>
		    </tr>

		    <tr>
			<td>
				Space: <b>2</b>
				<br>
			    <b><span id = 'status2'></span></b>
			    <br>
				<button id = 'upButton2' class="button"> Reserve </button> 
				<button id = 'downButton2' class="button2"> Unreserve </button> 
			</td>

			<td>
				Space: <b>7</b>
				<br>
			    <b><span id = 'status7'></span></b>
			    <br>
				<button id = 'upButton7' class="button"> Reserve </button> 
				<button id = 'downButton7' class="button2"> Unreserve </button> 
			</td>
		    </tr>

		    <tr>
			<td>
				Space: <b>3</b>
				<br>
			    <b><span id = 'status3'></span></b>
			    <br>
				<button id = 'upButton3' class="button"> Reserve </button> 
				<button id = 'downButton3' class="button2"> Unreserve </button>  
			</td>

		    <td> 
				Space: <b>8</b>
				<br>
			    <b><span id = 'status8'></span></b>
			    <br>
				<button id = 'upButton8' class="button"> Reserve </button> 
				<button id = 'downButton8' class="button2"> Unreserve </button> 
			</td>
		    </tr>

		    <tr>
			<td>
				Space: <b>4</b>
				<br>
			    <b><span id = 'status4'></span></b>
			    <br>
				<button id = 'upButton4' class="button3"> Reserve </button> 
				<button id = 'downButton4' class="button3"> Unreserve </button>
			</td>

			<td>
				Space: <b>9</b>
				<br>
			    <b><span id = 'status9'></span></b>
			    <br>
				<button id = 'upButton9' class="button3"> Reserve </button> 
				<button id = 'downButton9' class="button3"> Unreserve </button>
			</td>
		    </tr>


		    <tr>
			<td>
				Space: <b>5</b>
				<br>
			    <b><span id = 'status5'></span></b>
			    <br>
				<button id = 'upButton5' class="button3"> Reserve </button> 
				<button id = 'downButton5' class="button3"> Unreserve </button> 
			</td>

			<td>
				Space: <b>10</b>
				<br>
			    <b><span id = 'status10'></span></b>
			    <br>
				<button id = 'upButton10' class="button3"> Reserve </button> 
				<button id = 'downButton10' class="button3"> Unreserve </button> 
			</td>
            </tr>	
                   				  
		  </table>


			
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript">


			var API_URL = 'https://ivz6wn619e.execute-api.us-east-2.amazonaws.com/prod/reservesign';
			$(document).ready(function(){
				$.ajax({
					type: 'GET',
					url: API_URL,

					success: function(data) {
						$('#entries').html('');

						data.Items.forEach(function(Items){

							if (Items.CurrentStatus == 1) {
								$('#status'+Items.SpaceID).append('<span style="color:#0c470c;font-weight:bold">RESERVED</span>');
							} else if (Items.CurrentStatus == 0) {
								$('#status'+Items.SpaceID).append('<span style="color:#141e99;font-weight:bold">UNRESERVED</span>');
							} else {
								$('#status'+Items.SpaceID).append('N/A');
							}

						})

					}

				});
			});
			$('#upButton1').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "1", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
				
			});
			$('#upButton2').on('click', function(){

				if ($('#secretKey').val() == "2277") {

					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "2", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}

					});
				}
				return false;
			});

			$('#upButton3').on('click', function(){

				if ($('#secretKey').val() == "2277") {

					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "3", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#upButton6').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "6", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#upButton7').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "7", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#upButton8').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "8", "RequestedStatus": "1"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});







			$('#downButton1').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "1", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#downButton2').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "2", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#downButton3').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "3", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#downButton6').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "6", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#downButton7').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "7", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});
			$('#downButton8').on('click', function(){

				if ($('#secretKey').val() == "2277") {
					$.ajax({
						type: 'POST',
						url: API_URL,
						data: JSON.stringify({"SpaceID": "8", "RequestedStatus": "0"}),
						contentType: "application/json",

						success: function(data) {

							location.reload(); 

						},
						error: function(xhr, textStatus, errorThrown){
							$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

						}


					});
				}
				return false;
			});


			
			

			$('#submitButton').on('click', function(){
				$.ajax({
					type: 'POST',
					url: API_URL,
					data: JSON.stringify({"SpaceID": $('#SpaceID').val(), "CurrentStatus": $('#CurrentStatus').val(), "RequestedStatus": $('#RequestedStatus').val()}),
					contentType: "application/json",

					success: function(data) {

						location.reload(); 
						//$('#entries').append("Last appended was: " + " SpaceID "+ $('#SpaceID').val() + " CurrentStatus " + $('#CurrentStatus').val() + "RequestedStatus " + $('#RequestedStatus').val());

					},
					error: function(xhr, textStatus, errorThrown){
						$('#entries').append('<p>' + textStatus + '  ' + errorThrown + '</p>');

					}


				});
				return false;
			});

		</script>

	</body>


</html>